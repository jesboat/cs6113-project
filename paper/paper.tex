\documentclass[a4paper]{article}
\usepackage{mathpartir}
\usepackage{amssymb}
%\usepackage{float}
%\floatstyle{boxed}
%\restylefloat{figure}

\newcommand{\langName}[0]{TinyML\textsuperscript{2}}
\newcommand{\typeRule}[3]
{#1 \textsf{ } \vdash \textsf{ } #2 \textsf{ } \colon \textsf{ } #3}
\newcommand{\guards}[0]{\lhd}

\title{Towards a Mechanized Proof of Noninterference}
\author{Tom Magrino \and Matthew Milano}
\begin{document}

\maketitle

\abstract

Citing something for now to make an error message go away~\cite{Pierce:SF}.
Abstract goes here, summarize what this paper covers and what we ended up with.

\section{Introduction}

Introduce idea and outline what it will require us to do.  Explain where we're
starting from (Pottier and Simonet) at a high level.  Justify why this is an
interesting problem that needs tackling.

\section{Operational Semantics}

Outline the operational semantics of the baby language we developed.  Outline
any interesting similarities or differences between us and Pottier and Simonet.

\section{Type System}

\begin{figure}
  \begin{mathpar}
    \infer[V-Int]
    { }
    {\typeRule{\Gamma}{k}{\textsf{int}^{*}}}

    \infer[V-Var]
    {\Gamma(x) = t}
    {\typeRule{\Gamma}{x}{t}}

    \infer[V-Abs]
    {\typeRule{pc, \Gamma[x \mapsto t'][f \mapsto (t \to t')^l]}{e}{t}}
    {\typeRule{\Gamma}{\textsf{fix} f . \lambda x . e}{(t \to t')^l}}

    \infer[V-Bracket]
    {
    \typeRule{\Gamma}{v_1}{t} \\
    \typeRule{\Gamma}{v_2}{t} \\
    l \in H \\
    l \guards t
    }
    {\typeRule{\Gamma}{<v_1 | v_2>}{t}}

    \infer[V-Sub]
    {
    \typeRule{\Gamma}{v}{t'} \\
    t' \leq t
    }
    {\typeRule{\Gamma}{v}{t}}
  \end{mathpar}
  \caption{Typing judgements for values in \langName.}
  \label{fig:value_types}
\end{figure}

\begin{figure}
  \begin{mathpar}
    \infer[E-Value]
    {
    \typeRule{\Gamma}{v}{t}
    }
    {
    \typeRule{*, \Gamma}{v}{t}
    }

    \infer[E-App]
    {
    \typeRule{\Gamma}{v_1}{(t' \to t)^l} \\
    \typeRule{\Gamma}{v_2}{t'} \\
    l \guards t
    }
    {
    \typeRule{pc, \Gamma}{v_1 v_2}{t}
    }

    \infer[E-If]
    {
    \typeRule{pc, \Gamma}{e_{test}}{\textsf{int}^l} \\
    \typeRule{pc \sqcup l, \Gamma}{e_{true}}{t} \\
    \typeRule{pc \sqcup l, \Gamma}{e_{false}}{t} \\
    l \guards t
    }
    {
    \typeRule{pc, \Gamma}{\textsf{if } e_{test} \textsf{ } e_{true} \textsf{ } e_{false}}{t}
    }

    \infer[E-Let]
    {
    \typeRule{\Gamma}{v}{s} \\
    \typeRule{pc, \Gamma[x \mapsto s]}{e}{t} \\
    }
    {
    \typeRule{pc, \Gamma}{\textsf{let } x := s \textsf{ in } e}{t}
    }

    \infer[E-Sub]
    {
    \typeRule{pc, \Gamma}{e}{t'} \\
    t' \leq t
    }
    {
    \typeRule{pc, \Gamma}{e}{t}
    }

    \infer[E-Bracket]
    {
    \typeRule{pc \sqcup pc', \Gamma}{e_1}{t} \\
    \typeRule{pc \sqcup pc', \Gamma}{e_2}{t} \\
    pc' \in H \\
    pc' \guards t
    }
    {
    \typeRule{pc, \Gamma}{<e_1 | e_2>}{t}
    }
  \end{mathpar}
  \caption{Typing judgements for expressions in \langName.}
  \label{fig:expr_types}
\end{figure}

\begin{figure}
  \begin{mathpar}
    TODO
  \end{mathpar}
  \caption{Rules for subtyping in \langName.}
  \label{fig:guard_rules}
\end{figure}

\begin{figure}
  \begin{mathpar}
    TODO
  \end{mathpar}
  \caption{Rules for labels guarding types in \langName.}
  \label{fig:guard_rules}
\end{figure}

The type system for our simple language is given in Figure~\ref{fig:value_types}.

\section{Proofs}

I'm imagining this section could outline the human version of the proofs we'd
need to do a full noninterference proof.

\section{Mechanizing Proofs}

Talk about what did/should have been mechanized.  Talk about troubles and/or
interesting bits here.  Might point out here that we're fairly certain that we
found an inaccuracy in the original paper.

\section{Related Work}

Discuss various references related to our project.

\section{Future Work}

Talk about stuff we still have to do for this to be a complete project.  Talk
about expected problems and required techniques.  Talk about what we could do
once this project is completed and we could use it for other projects.

\section{Conclusion}

Summarize again what we covered, where we ended up, and where we'd like to go
next.

\section*{Acknowledgements}

We would like to thank Jon Sailor from Facebook for helping us over the phone
work through some of the more difficult problems we ran into using Coq.

\bibliographystyle{abbrv}
\bibliography{paper}

\end{document}
